2
Activation of defense as a result of the detection of an attacking weapon systems group as part of a deployment for defense.
4
Sector boundaries
5
Location of the activating unit
6
Job
7
The whole unit
8
Suitable expected attacker routes
9
Sorted expected attacker routes
10
Number of expected attacker routes
11
There are suitable expected attacker routes
12
Internal center
13
Direction of the activating unit
14
Location of the activating unit within the sector boundaries
15
Line crossing the sector
16
Arbitrary attacker route
17
Attacker route 1
18
Attacker route 2
19
A command post is defined
20
Enemy distance threshold for activating the defense
21
The distance threshold of an enemy's location from the boundaries of the deployment area in order to cause the activation of the defense.
22
Unit
23
Truncated expected attacker route
24
An expected attacker route, truncated according to the sector boundaries. The truncated parts are:
- The beginning of the route that is outside the sector boundaries, beyond twice the "length of the external search segment in an attacker route" (doctrinal function) from the entry point of the route into the sector boundaries.
- The end of the route that goes outside the sector boundaries.
The working assumption is that the attacker's route necessarily enters the sector boundaries but does not necessarily leave them.

25
Expected attacker route
26
Sector boundaries
27
Defense activation event
28
This event is sent by a company-level framework that is deploying for defense to its command post when the defense is activated.
29
Direction of the axis of advance
30
Location of the activating unit
32
Activation of defense as a result of the detection of an attacking weapon systems group as part of a deployment for defense.
33
Sector boundaries
34
Location of the activating unit
35
1. Perform "Find expected attacker routes" for the "specified sector boundaries".

2. Perform "Activate defense with irregular army characteristics (implementation)".
36
The whole unit
38
Deployment for defense, which means entering a state of readiness in anticipation of the arrival of an attacking force.
40
The whole unit
41
First iteration and the company is not responsible for an area
42
First iteration
43
The unit's area of responsibility
44
The unit is responsible for an area
45
Enemy distance threshold
46
The bounding area
47
The company's command post is defined
48
Start time of the deployment for defense
49
Units (land-based weapon systems groups) in the bounding area
50
Enemy units in the bounding area
51
Enemy units were found in the bounding area
52
Enemy units in the area of responsibility
53
Enemy units were found in the area of responsibility
54
Enemy units in the bounding area according to proximity to the area of responsibility
55
The closest enemy unit
56
Location of the closest enemy unit
57
Distance of the closest enemy unit
58
An enemy unit was found near the boundaries of the area of responsibility
59
The defense should be activated (the unit has an area of responsibility and also an enemy was found near the boundaries of the area of responsibility or within it)
61
Deployment for defense, which means entering a state of readiness in anticipation of the arrival of an attacking force. The command percolates down the unit tree to the company-level frameworks.

62
Subunit
63
The unit is a direct subordinate that is a framework responsible for an area (doctrinal function)
64
Direct subordinates
65
Number of direct subordinates
67
Deployment for defense, which means entering a state of readiness in anticipation of the arrival of an attacking force. The command percolates down the unit tree to the company-level frameworks.

69
1. Remember in the memory note "in deployment for defense" - 'yes'.


3. Wait for a random duration up to the "maximum wait duration".

4. Perform an aggregative/company-level deployment for defense according to the echelon of the executing unit.
70
The whole unit
71
Maximum wait duration
72
Defense with irregular army characteristics (implementation)
73
Defense of a terrain cell by an irregular military force, which focuses on delaying the advance of the attacking force.
75
Staging area (geographical)
76
Attacking force route 1
77
Kill zone 1
78
Obstacle location 1
79
Anti-tank deployment area 1
80
Attacking force route 2
81
Kill zone 2
82
Obstacle location 2
83
Anti-tank deployment area 2
84
Anti-tank
85
Deployment
86
Demolitions
87
Blocking the axis of advance
88
Mortars
89
Fire support
90
Small arms
91
Deployment
92
Observation
93
Reporting detections in observation
94
Distance between small arms teams in a closed area
95
Distance between small arms teams in an open area
96
Distance of small arms teams from the axis of advance in a closed area
97
Minimum distance of small arms teams from the axis of advance in an open area
98
Maximum distance of small arms teams from the axis of advance in an open area
99
Percentage of reserve teams
100
All participating units
101
Forbidden area 1
102
Forbidden area 2
103
The exit point from the kill zone
104
Forbidden area for the placement of a kill zone
105
End segment of the attacking force's route
106
The exit point from the forbidden area around the kill zone
107
The entry point to the staging area
108
The starting point for placing small arms
109
The remainder of the attacking force's route from the starting point for placing small arms
110
Reference path for placement
111
Distance between small arms teams
112
Actual distance between small arms teams
113
Reserve unit
114
Distance from the axis of advance
115
The observation area
116
Center of the observation area
117
The observation team's position was found
118
The observation team's position
119
Current location
120
Close fire support position
121
The weapon systems group is at its initial position
122
A reserve unit that is moving from its location as part of an interception of an invading enemy (a doctrinal command) is already activating a "check for an opportunity to kidnap a soldier", so there is no need to initiate the check for it from here
123
Send a "check for an opportunity to kidnap a soldier" event to myself
124
Defense with irregular army characteristics
125
Defense of a terrain cell by an irregular military force, which focuses on delaying the advance of the attacking force.
127
Staging area (geographical)
128
The area within which all the teams except for the anti-tank will be located.
If not specified - the implied staging area is the area of responsibility of the executing unit.
129
A staging area must be entered because the unit has no defined area of responsibility.
130
Attacking force route 1
131
An estimated route along which the first attacking force is expected to advance. The route must cross kill zone 1 and pass through the staging area.
132
Must pass through the staging area at least in part.
133
Kill zone 1
134
Attacker route 1 must cross kill zone 1.
135
Obstacle location 1
136
Location of an obstacle intended to block the route of the attacking force 1.
137
Must be on the route of the attacking force 1 (up to 100m).
138
Anti-tank deployment area 1
139
The area where the anti-tank teams controlling kill zone 1 will be located.
140
Attacking force route 2
141
An estimated route along which the second attacking force is expected to advance. The route must cross kill zone 2 and pass through the staging area.
142
Must pass through the staging area at least in part.
143
Kill zone 2
144
Attacker route 2 must cross kill zone 2.
145
Obstacle location 2
146
Location of an obstacle intended to block the route of the attacking force 2.
147
Must be on the route of the attacking force 2 (up to 100m).
148
Anti-tank deployment area 2
149
The area where the anti-tank teams will be located in positions controlling kill zone 2. If kill zone 2 is not specified - the teams will be located in positions controlling kill zone 1.
150
All or none of the parameters attacker route 2/kill zone 2/obstacle location 2/anti-tank deployment area 2 must be entered.
151
The whole unit
152
The company's command post is defined
153
Deployment of an ambush - guerrilla
154
An ambush for an advancing force that is expected to arrive on a given route.
156
Deployment area
157
The area within which the teams performing the ambush are to be deployed.
158
Anti-tank deployment area
159
The area within which the anti-tank teams performing the ambush are to be deployed.
160
The advancing force's route
161
The expected arrival route of the advancing force.
162
Kill zone
163
Closing team 1
164
Positioning near the closing point
165
Positioning at the closing point, taking up firing positions
166
Closing team 2
167
Positioning near the closing point
168
Positioning at the closing point, taking up firing positions
169
Anti-tank teams
170
Deployment
171
Demolitions
172
Blocking an axis
173
Mortars
174
Movement to a fire support position
175
Support
176
Observation
177
Reporting detections in observation
178
Others
179
Deployment
180
Taking up firing positions
181
Deployment
182
Activate ambush
183
The ambush was activated
184
Range of closing units from the closing point
185
All participating units
186
Center of the kill zone
187
Forbidden area
188
The closing point
189
Location of the closing teams
190
Right anti-tank area
191
Left anti-tank area
192
The obstacle's location
193
The observation area
194
Center of the observation area
195
The observation team's position
196
Current location
197
Close fire support position
198
Direction of the deployment area splitters
199
Minimum firing range
200
Maximum firing range
201
Unit deployment area
202
Actual deployment position
203
Response of others to a refresh of the detection list
204
Send a "check for an opportunity to kidnap a soldier" event to myself
205
Response of closing team 1 to a refresh of the detection list
206
Send a "check for an opportunity to kidnap a soldier" event to myself
207
Response of closing team 2 to a refresh of the detection list
208
Send a "check for an opportunity to kidnap a soldier" event to myself
209
Set the "ambush was activated" value
210
Setting the "ambush was activated" indication value for the executing unit.
211
The ambush was activated
212
The whole unit
213
The ambush was activated
214
Whether the ambush was activated - meaning all forces are allowed to switch to free fire.
215
The framework executing the ambush
216
Switch to "free fire"
218
An ambush for an advancing force that is expected to arrive on a given route.
220
Deployment area
221
The area within which the teams performing the ambush are to be deployed.
222
Anti-tank deployment area
223
The area within which the anti-tank teams performing the ambush are to be deployed.
224
The advancing force's route
225
The expected arrival route of the advancing force.
226
Must cross the kill zone, i.e., enter it and leave it.
227
Kill zone
228
The route of the advancing force within the kill zone is required to be at least 300m long.
229
The whole unit
230
There is an enemy detection near the blocking point or there are at least 3 non-destroyed enemy vehicles inside the kill zone
231
Send an event to switch to "free fire"
232
Remember that the ambush was activated
233
Activation condition - number of vehicles in the kill zone
234
The blocking point
235
The blocking point
236
There are detections near the blocking point (activation condition 1)
237
A sufficient quantity of enemy vehicles inside the kill zone (activation condition 2)
238
Subordinate anti-tank teams
239
Forbidden area for positioning
240
Returns a forbidden area for positioning around the specified kill zone plus a belt around the advancing force's route. Both belts are 100m wide.
241
Kill zone
242
The advancing force's route
243
Blocking point
244
A blocking point for the purpose of placing mines in an ambush, equal to the last point where the advancing force's route crosses the kill zone.
245
Kill zone
246
The advancing force's route
247
Half the width of the forbidden area for positioning
248
Returns the size of half the width of the forbidden area for positioning according to the terrain type (open/closed).
249
Area
250
Forbidden area for positioning for a route segment
251
Returns the forbidden area for positioning for the specified route segment.
252
Segment
253
Kill zone
254
Half the width of the forbidden area for positioning in a closed area
255
Start line of the advancing force's route
256
Returns a line between the starting point of the advancing force's route and the entry point to the kill zone.
257
Kill zone
258
The advancing force's route
259
Observation area for defense/ambush
260
Returns the target area of the unit performing the observation mission in defense/ambush deployment commands with irregular army characteristics.
261
Kill zone
262
The advancing force's route
263
An enemy was identified near the obstacle
264
Whether an enemy is in the detection list of the specified unit at a distance of up to 150m from the specified obstacle's location.
265
Unit
266
Obstacle location
267
Actual staging area
268
The actual staging area is the specified staging area if it is not empty, otherwise it is the "unit's area of responsibility area" (doctrinal function).
269
Unit
270
Staging area
271
Close fire support position
272
Returns the closest position for which the specified firing range covers the entire specified area to be covered, which is not inside the specified forbidden area.
If a close position does not exist for the specified parameters, an empty point is returned.
273
Initial location
274
Firing range
275
Area to be covered
276
Forbidden area
277
Sending status reports from combatant teams
278
Is it in active defense
279
Start time of the deployment for defense
280
Job
281
The whole unit
282
Frequency of status reports
283
Deployment duration
284
Last status report time
285
The last status report time is empty
286
The next report time
287
Status reports should be sent
288
A report time should be remembered (the last status report time is empty or status reports should be sent)
289
Find expected attacker routes
290
Finding "expected attacker route" objects that are suitable to be used by the active defense and saving them in memory.

292
Sector boundaries
293
Job ID
294
All expected attacker routes [that pass through the sector boundaries] have been checked
295
The whole unit
296
Save the collection of expected routes
297
Initialize the collection of suitable expected routes
298
Update the collection of suitable expected routes
299
First iteration
300
Default kill zone depth
301
Collection of expected attacker routes [that pass within the sector boundaries]
302
[Current expected] attacker route
303
The [current expected] attacker route enters the sector boundaries
304
Length of the [current expected] attacker route
305
The [current expected] attacker route is suitable
306
The collection of suitable expected attacker routes should be updated
307
The collection of expected routes is not empty and also the current expected attacker route enters the sector boundaries
308
Collection of suitable expected attacker routes
309
Updated collection of suitable expected attacker routes
311
Deployment and fire contact drill for a virtual anti-tank team in defense.
313
Kill zone
314
The area towards which to be positioned.
315
Deployment area
316
The area where the anti-tank team will be located in a position controlling the kill zone.
317
Initial firing policy
318
If no firing policy is specified - the policy is "free fire".
319
Ammunition depot search area
320
If specified - ammunition can be replenished after firing and a return to an alternative firing position. Relevant for defense.
321
The whole unit
322
Movement to the position
323
Not all of the deployment area was used, an anti-tank position was found.
324
Not all of the deployment area was used, no anti-tank position was found.
325
Waiting duration at the depot
326
Ammunition depot search range
327
Maximum range for replenishment from a depot
328
Minimum stack distance
329
Maximum stack distance
330
Frequency of visits to the depot
331
Minimum observation to the kill zone
332
Exclusion range
333
Maximum number of missiles
334
First iteration
335
Depot visit iteration
336
An ammunition depot search area was specified
337
Search area near the unit
338
Actual ammunition depot search area
339
An ammunition depot was found
340
Location of the ammunition depot object
341
A random point in the ammunition depot search area
342
The location of the ammunition depot that was found
343
Actual location of the ammunition depot
344
Ammunition depot distance
345
Replenishment from a depot
346
Replenishment from a stack
347
Stack distance
348
Stack direction
349
Stack location
350
First position
351
First position distance
352
Exclusion area
353
The positions area was fully utilized
354
Positions search area
355
An anti-tank position was found
356
The closest anti-tank position
357
Optimal position
358
Actual position
359
No position was found
360
Actual firing policy
361
Response to "switch to 'free fire'"
362
Change the direct fire policy to "free fire".
364
Deployment and fire contact drill for a real anti-tank team in defense.
365
Kill zone
366
The area towards which to be positioned.
367
Deployment area
368
The area where the anti-tank team will be located in a position controlling the kill zone.
369
Initial firing policy
370
If no firing policy is specified - the policy is "free fire".
371
Ammunition depot search area
372
If specified - ammunition can be replenished after firing and a return to an alternative firing position. Relevant for defense.
373
The whole unit
374
Deployment of an anti-tank team
375
Deployment and fire contact drill for an anti-tank team in defense.
376
Kill zone
377
The area towards which to be positioned.
378
Deployment area
379
The area where the anti-tank team will be located in a position controlling the kill zone.
380
Initial firing policy
381
If no firing policy is specified - the policy is "free fire".
382
Ammunition depot search area
383
If specified - ammunition can be replenished after firing and a return to an alternative firing position. Relevant for defense.
384
The whole unit
385
Prevents an immediate end due to an infinite command as the last command
386
The unit's location is real
387
The unit's location is virtual
388
Report on new enemy detections
389
Report on new enemy detections
390
Command ID
391
List of detections
392
The whole unit
393
The report is new
394
The detection should be reported (the detection is new and the number of elements in it is greater than zero)
395
An anti-tank team should be directed (the detection is a vehicle and also the collection of anti-tank units is not empty)
396
A demolitions team should be directed (the collection of demolitions units is not empty)
397
Take up positions and report detections
398
Taking up firing/observation positions (according to the type of the executing weapon systems group)
399
Focus for observation
400
The whole unit
401
Duration of taking up positions
402
Frequency of resetting recently reported detections
403
The unit's location is real
404
The unit's location is virtual
405
First iteration
406
The direction of observation
407
Enemy detections should be reported
408
Time for resetting recently reported detections
409
Recently reported detections should be reset
410
Response to an improvement in enemy detections
411
Set the boolean memory note "an update in enemy detections has occurred" to 'yes'
412
Response to a refresh of enemy detections
413
Set the boolean memory note "an update in enemy detections has occurred" to 'yes'
414
Direction event by observation
415
This event is sent by an observation unit that is reporting a new detection to the receiving unit.
416
Detection
417
Reporting detections in observation (virtual)
418
Performing observation by a virtual observation team
420
Focus for observation
421
Observation post
422
Location of the position where the observation is to be deployed.
If not specified - the observation is performed from the current location.
423
1. "Actual observation direction" is the specified direction - if specified, otherwise - the current direction.

2.
- If an observation post is specified - perform an arrival at that point.
- If "activate deployment reporting rule" is specified as 'yes' - activate the deployment reporting rule.
- Set the boolean memory note "an update in enemy detections has occurred" to 'no' (a mission response rule updates its value to 'yes' in case an event indicating an improvement in enemy detections is received).
- Set the memory note "recently reported detections" to an empty collection of units.
- Set the memory note "time for resetting recently reported detections" to the current time value.

3. Activate "report detections" with the specified "observation direction" value.
424
The whole unit
425
Frequency of resetting recently reported detections
426
Duration of taking up positions
427
A move to an observation post should be made
428
First iteration
429
Enemy detections should be reported
430
Time for resetting recently reported detections
431
Recently reported detections should be reset
433
Performing observation by a real observation team
434
Focus for observation
435
The whole unit
436
Response to an improvement in enemy detections
437
Set the boolean memory note "an update in enemy detections has occurred" to 'yes'
438
Response to a refresh of enemy detections
439
Set the boolean memory note "an update in enemy detections has occurred" to 'yes'
441
Performing observation
442
Focus for observation
443
Observation post
444
Location of the position where the observation is to be deployed.
If not specified - the observation is performed from the current location.
445
The whole unit
446
Prevents an immediate end due to an infinite command as the last command
447
The unit's location is real
448
The unit's location is virtual
449
Actual observation post
451
A drill for blocking an axis by a demolitions team using mines.
452
Obstacle location
453
The center of the line along which the mines will be placed, perpendicular to the direction of the blocked axis of movement.
454
Must be on the blocking axis (up to 150m).
455
The axis to be blocked
456
Sector boundaries
457
The sector boundaries limit the area within which the team is positioned. Relevant for defense only.
458
Forbidden area
459
The whole unit
460
Movement to the beginning of the mining line and creation of a minefield obstacle.
Movement to an observation point and taking up positions towards the center of the obstacle.
461
Length of the mining axis
462
Minimum observation range
463
Maximum observation range
464
End of the mining line
465
Center of the obstacle
466
Direction of the mining line
467
Beginning of the mining line
468
End of the mining line
469
The mining axis
470
Observation point search area
471
Route to the observation point
472
An observation point was found
473
Observation point
474
Direction of positions at the observation point
475
Closest nearby infantry enemy weapon systems group
476
The closest infantry enemy weapon systems group to the specified unit within a range of up to 100m from it.
If there is no such one - an empty unit is returned.
477
Unit
478
A check for a kidnapping opportunity is required
479
This event is sent to a weapon systems group participating in the execution of a defense/ambush in order to cause it to perform a check for an opportunity to kidnap a soldier.
480
Job
481
Intercepting an invading enemy
482
Shortening the range to the closest attacking weapon systems group within the sector boundaries, for the purpose of creating fire contact. With the beginning of the movement
483
Sector boundaries
484
Exclusion route 1
485
Exclusion route 2
486
1. Definitions:
- "Enemy units were found in the firing range" if there are enemy units in the direct firing range of the executing unit.
- "Enemy units outside the routes" are the simple non-destroyed enemy units in the staging area that are not at a distance of less than half the "width of the exclusion area for a route" from the specified exclusion routes.
- "The closest enemy unit" is the enemy unit closest to the unit's location from the collection of "enemy units outside the routes".
- "Principle route to the closest enemy unit" is a route based on a straight line from the current location of the executing unit to the location of "the closest enemy unit".
- "Principle route segment to the closest enemy unit" is a segment of the principle route at the "rate of movement from the route per iteration", with a length not exceeding the "maximum movement distance" and not less than the minimum of the "minimum movement distance" and the distance of the enemy unit.
- "The actual route to the closest enemy unit" is a route to "the closest enemy unit", whose length is limited to the distance that the executing unit can move in a time step at its typical speed.
- "A move to an enemy unit should be made" if the unit has no potential targets (doctrinal function), the collection of "enemy units outside the routes" is not empty, and also "the actual route to the closest enemy unit" is not empty.
- "Activate reserve for the first time" - 'yes'

2. Remember the current time.

3. If "a move to an enemy unit should be made" - 'no': perform a "scheduled taking up of firing positions" for a duration of two time steps.

4. If "a move to an enemy unit should be made" - 'yes':
a. If the value of "interception was activated" in the unit's memory is 'no' ("first interception"): remember in the unit's memory "interception was activated" - 'yes' and perform "activate a reporting rule for the activation of a reserve team" with parameters corresponding to "the closest enemy unit".
b. "Perform a concealed movement" on the "principle route segment to the closest enemy unit" with an end mode - 'at the destination' and "on encounter" - 'continue'.

5. Perform "direct fire".

6. If "a move to an enemy unit should be made" and also the current time saved in step 2 has not passed: perform a "scheduled taking up of firing positions" for a duration of one second.
487
The whole unit
488
Save the command's start time in memory
489
There is no need to move to an enemy unit
490
Send an event to check for a kidnapping opportunity
491
The end time of the command is equal to the initial time (to prevent an infinite loop)
492
Width of the exclusion area for a route
493
Minimum movement distance
494
Maximum movement distance
495
The rate of movement from the route per iteration
496
Calculation cycle duration
497
Duration of taking up firing positions
498
Potential targets
499
There are no potential targets
500
Weapon systems groups in the sector
501
Enemy units in the sector
502
Enemy units outside the routes
503
Enemy units were found outside the routes
504
A close enemy unit outside the routes
505
Location of a close enemy unit outside the routes
506
Principle route to the closest enemy unit
507
Length of the principle route to the closest enemy unit
508
Actual minimum movement length
509
Length of movement on the principle route
510
Principle route segment to the closest enemy unit
511
A move to an enemy unit should be made
512
Interception has already been activated
513
First interception
514
Length of the external search segment in an attacker route
515
Length of the external search segment of a kill zone in an external attacker route.
516
Default kill zone depth
517
Default kill zone width
518
Kill zone for an attacker route
519
The kill zone corresponding to the specified attacker route for a defense with irregular army characteristics.
520
Attacker route
521
Staging area (geographical)
522
Kill zone for an attacker route based on an object
523
The geometry of the first kill zone ellipse that crosses the search segment.
524
Search segment
525
Kill zone for an attacker route based on open terrain
526
A default kill zone whose center is at the lowest point on the first non-built-up terrain segment in the specified search segment.
527
Internal search segment
528
Arbitrary kill zone for an attacker route
529
A default kill zone that is tangent to the beginning of the internal search segment.
530
Internal search segment
531
External search segment in an attacker route
532
External search segment of a kill zone in an attacker route.
533
Attacker route
534
Staging area (geographical)
535
Internal search segment in an attacker route
536
Internal search segment of a kill zone in an attacker route.
537
Attacker route
538
Staging area (geographical)
539
Default kill zone
540
A default kill zone ellipse for the specified center of the kill zone and the crossed attacker route segment.
541
Center of the kill zone
542
Attacker route segment
543
Fire coverage circle
544
A circle in which the specified firing range covers the entire area to be covered.
545
Firing range
546
Area to be covered
